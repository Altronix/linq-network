
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="lang:clipboard.copy" content="Copy to clipboard">
  <meta name="lang:clipboard.copied" content="Copied to clipboard">
  <meta name="lang:search.language" content="en">
  <meta name="lang:search.pipeline.stopwords" content="True">
  <meta name="lang:search.pipeline.trimmer" content="True">
  <meta name="lang:search.result.none" content="No matching documents">
  <meta name="lang:search.result.one" content="1 matching document">
  <meta name="lang:search.result.other" content="# matching documents">
  <meta name="lang:search.tokenizer" content="[\s\-]+">

  
    <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin="">
    <link rel="stylesheet"
          href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono:400,500,700&display=fallback">

    <style>
      body,
      input {
        font-family: "Roboto", "Helvetica Neue", Helvetica, Arial, sans-serif
      }

      code,
      kbd,
      pre {
        font-family: "Roboto Mono", "Courier New", Courier, monospace
      }
    </style>
  

  <link rel="stylesheet" href="../_static/stylesheets/application.css"/>
  <link rel="stylesheet" href="../_static/stylesheets/application-palette.css"/>
  <link rel="stylesheet" href="../_static/stylesheets/application-fixes.css"/>
  
  <link rel="stylesheet" href="../_static/fonts/material-icons.css"/>
  
  <meta name="theme-color" content="#3f51b5">
  <script src="../_static/javascripts/modernizr.js"></script>
  
  <script>
      window.ga = window.ga || function () {
          (ga.q = ga.q || []).push(arguments)
      };
      ga.l = +new Date;
      ga('create', 'UA-XXXXX', 'auto');
      ga('send', 'pageview');
  </script>
  <script async src='https://www.google-analytics.com/analytics.js'></script>
  
  
    <title>Buildroot Environment &#8212; Linq Network User Guide 0.0.1 documentation</title>
    <link rel="stylesheet" href="../_static/material.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/styles.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Docker Image" href="docker.html" />
    <link rel="prev" title="Linux Enviorment" href="linux.html" />
  
   
  
  <script src="../_static/javascripts/version_dropdown.js"></script>
  <script>
    var json_loc = "../"versions.json"",
        target_loc = "../../",
        text = "Versions";
    $( document ).ready( add_version_dropdown(json_loc, target_loc, text));
  </script>


  </head>
  <body dir=ltr
        data-md-color-primary=blue data-md-color-accent=light-blue>
  
  <svg class="md-svg">
    <defs data-children-count="0">
      
      <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
      
    </defs>
  </svg>
  
  <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer">
  <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search">
  <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
  <a href="#getting_started/buildroot" tabindex="1" class="md-skip"> Skip to content </a>
  <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex navheader">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../index.html" title="Linq Network User Guide 0.0.1 documentation"
           class="md-header-nav__button md-logo">
          
            <i class="md-icon">&#x1f48e</i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          <span class="md-header-nav__topic">LinQ Network User Guide</span>
          <span class="md-header-nav__topic"> Buildroot Environment </span>
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            <a href="https://github.com/altronix/linq-network/" title="Go to repository" class="md-source" data-md-source="github">

    <div class="md-source__icon">
      <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24" width="28" height="28">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    linq-network
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>

  
  <div class="md-container">
    
    
    
  <nav class="md-tabs" data-md-component="tabs">
    <div class="md-tabs__inner md-grid">
      <ul class="md-tabs__list">
          <li class="md-tabs__item"><a href="../index.html" class="md-tabs__link">Linq Network User Guide 0.0.1 documentation</a></li>
          <li class="md-tabs__item"><a href="getting_started.html" class="md-tabs__link">Getting Started</a></li>
      </ul>
    </div>
  </nav>
    <main class="md-main">
      <div class="md-main__inner md-grid" data-md-component="container">
        
          <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
            <div class="md-sidebar__scrollwrap">
              <div class="md-sidebar__inner">
                <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../index.html" title="Linq Network User Guide 0.0.1 documentation" class="md-nav__button md-logo">
      
        <i class="md-icon">&#x1f48e</i>
      
    </a>
    <a href="../index.html"
       title="Linq Network User Guide 0.0.1 documentation">LinQ Network User Guide</a>
  </label>
    <div class="md-nav__source">
      <a href="https://github.com/altronix/linq-network/" title="Go to repository" class="md-source" data-md-source="github">

    <div class="md-source__icon">
      <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24" width="28" height="28">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    linq-network
  </div>
</a>
    </div>
  
  

  
  
  <ul class="md-nav__list">
    <li class="md-nav__item">
    
      <a href="getting_started.html" class="md-nav__link">Getting Started</a>
      <ul class="md-nav__list"> 
    <li class="md-nav__item">
    
      <a href="windows.html" class="md-nav__link">Windows Enviorment</a>
      
    </li>
    <li class="md-nav__item">
    
      <a href="linux.html" class="md-nav__link">Linux Enviorment</a>
      
    </li>
    <li class="md-nav__item">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    <label class="md-nav__link md-nav__link--active" for="__toc"> Buildroot Environment </label>
    
      <a href="#" class="md-nav__link md-nav__link--active">Buildroot Environment</a>
      
        
<nav class="md-nav md-nav--secondary">
    <label class="md-nav__title" for="__toc">Contents</label>
  <ul class="md-nav__list" data-md-scrollfix="">
        <li class="md-nav__item"><a href="#getting-started-buildroot--page-root" class="md-nav__link">Buildroot Environment</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#required-packages" class="md-nav__link">Required Packages</a>
        </li>
        <li class="md-nav__item"><a href="#optional-packages" class="md-nav__link">Optional Packages</a>
        </li>
        <li class="md-nav__item"><a href="#altronix-buildroot-packages" class="md-nav__link">Altronix Buildroot Packages</a>
        </li>
        <li class="md-nav__item"><a href="#altronix-demo-configuration" class="md-nav__link">Altronix Demo Configuration</a>
        </li>
        <li class="md-nav__item"><a href="#creating-a-custom-defconfig" class="md-nav__link">Creating A Custom DefConfig</a>
        </li>
        <li class="md-nav__item"><a href="#flashing-sd-card-onto-target-hardware" class="md-nav__link">Flashing SD Card onto target hardware</a>
        </li>
        <li class="md-nav__item"><a href="#running-demo" class="md-nav__link">Running Demo</a>
        </li>
        <li class="md-nav__item"><a href="#development-workflow" class="md-nav__link">Development Workflow</a>
        </li>
        <li class="md-nav__item"><a href="#adding-custom-package" class="md-nav__link">Adding Custom Package</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#config-in" class="md-nav__link">Config.in</a>
        </li>
        <li class="md-nav__item"><a href="#makefile-for-a-c-c-package" class="md-nav__link">Makefile for a C/C++ package</a>
        </li>
        <li class="md-nav__item"><a href="#makefile-for-a-rust-package" class="md-nav__link">Makefile for a Rust Package</a>
        </li>
        <li class="md-nav__item"><a href="#makefile-for-a-go-package" class="md-nav__link">Makefile for a Go Package</a>
        </li>
        <li class="md-nav__item"><a href="#other" class="md-nav__link">Other</a>
        </li></ul>
            </nav>
        </li></ul>
            </nav>
        </li>
    
<li class="md-nav__item"><a class="md-nav__extra_link" href="../_sources/getting_started/buildroot.rst.txt">Show Source</a> </li>

  </ul>
</nav><ul class="md-nav__list"> 
    <li class="md-nav__item">
    
      <a href="#required-packages" class="md-nav__link">Required Packages</a>
      
    </li>
    <li class="md-nav__item">
    
      <a href="#optional-packages" class="md-nav__link">Optional Packages</a>
      
    </li>
    <li class="md-nav__item">
    
      <a href="#altronix-buildroot-packages" class="md-nav__link">Altronix Buildroot Packages</a>
      
    </li>
    <li class="md-nav__item">
    
      <a href="#altronix-demo-configuration" class="md-nav__link">Altronix Demo Configuration</a>
      
    </li>
    <li class="md-nav__item">
    
      <a href="#creating-a-custom-defconfig" class="md-nav__link">Creating A Custom DefConfig</a>
      
    </li>
    <li class="md-nav__item">
    
      <a href="#flashing-sd-card-onto-target-hardware" class="md-nav__link">Flashing SD Card onto target hardware</a>
      
    </li>
    <li class="md-nav__item">
    
      <a href="#running-demo" class="md-nav__link">Running Demo</a>
      
    </li>
    <li class="md-nav__item">
    
      <a href="#development-workflow" class="md-nav__link">Development Workflow</a>
      
    </li>
    <li class="md-nav__item">
    
      <a href="#adding-custom-package" class="md-nav__link">Adding Custom Package</a>
      
    </li></ul>
    </li>
    <li class="md-nav__item">
    
      <a href="docker.html" class="md-nav__link">Docker Image</a>
      
    </li>
    <li class="md-nav__item">
    
      <a href="configuration.html" class="md-nav__link">Library Configuration Options</a>
      
    </li>
    <li class="md-nav__item">
    
      <a href="device_setup.html" class="md-nav__link">Setting Up Network Devices</a>
      
    </li>
    <li class="md-nav__item">
    
      <a href="quickstart_c.html" class="md-nav__link">Quick Start (C)</a>
      
    </li>
    <li class="md-nav__item">
    
      <a href="quickstart_cpp.html" class="md-nav__link">Quick Start (C++)</a>
      
    </li>
    <li class="md-nav__item">
    
      <a href="quickstart_rust.html" class="md-nav__link">Quick Start (Rust)</a>
      
    </li>
    <li class="md-nav__item">
    
      <a href="quickstart_nodejs.html" class="md-nav__link">Quick Start (NodeJS)</a>
      
    </li></ul>
    </li>
    <li class="md-nav__item">
    
      <a href="../api/api_c/api_c.html" class="md-nav__link">C API Reference</a>
      
    </li>
    <li class="md-nav__item">
    
      <a href="../api/api_cpp/api_cpp.html" class="md-nav__link">C++ API Reference</a>
      
    </li>
    <li class="md-nav__item">
    
      <a href="../api/api_rust/api_rust.html" class="md-nav__link">Rust API Reference</a>
      
    </li>
    <li class="md-nav__item">
    
      <a href="../api/api_nodejs/api_nodejs.html" class="md-nav__link">NodeJS API Reference</a>
      
    </li>
    <li class="md-nav__item">
    
      <a href="../api/api_http/api_http.html" class="md-nav__link">HTTP API Reference</a>
      
    </li>
  </ul>
  

</nav>
              </div>
            </div>
          </div>
          <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
            <div class="md-sidebar__scrollwrap">
              <div class="md-sidebar__inner">
                
<nav class="md-nav md-nav--secondary">
    <label class="md-nav__title" for="__toc">Contents</label>
  <ul class="md-nav__list" data-md-scrollfix="">
        <li class="md-nav__item"><a href="#getting-started-buildroot--page-root" class="md-nav__link">Buildroot Environment</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#required-packages" class="md-nav__link">Required Packages</a>
        </li>
        <li class="md-nav__item"><a href="#optional-packages" class="md-nav__link">Optional Packages</a>
        </li>
        <li class="md-nav__item"><a href="#altronix-buildroot-packages" class="md-nav__link">Altronix Buildroot Packages</a>
        </li>
        <li class="md-nav__item"><a href="#altronix-demo-configuration" class="md-nav__link">Altronix Demo Configuration</a>
        </li>
        <li class="md-nav__item"><a href="#creating-a-custom-defconfig" class="md-nav__link">Creating A Custom DefConfig</a>
        </li>
        <li class="md-nav__item"><a href="#flashing-sd-card-onto-target-hardware" class="md-nav__link">Flashing SD Card onto target hardware</a>
        </li>
        <li class="md-nav__item"><a href="#running-demo" class="md-nav__link">Running Demo</a>
        </li>
        <li class="md-nav__item"><a href="#development-workflow" class="md-nav__link">Development Workflow</a>
        </li>
        <li class="md-nav__item"><a href="#adding-custom-package" class="md-nav__link">Adding Custom Package</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#config-in" class="md-nav__link">Config.in</a>
        </li>
        <li class="md-nav__item"><a href="#makefile-for-a-c-c-package" class="md-nav__link">Makefile for a C/C++ package</a>
        </li>
        <li class="md-nav__item"><a href="#makefile-for-a-rust-package" class="md-nav__link">Makefile for a Rust Package</a>
        </li>
        <li class="md-nav__item"><a href="#makefile-for-a-go-package" class="md-nav__link">Makefile for a Go Package</a>
        </li>
        <li class="md-nav__item"><a href="#other" class="md-nav__link">Other</a>
        </li></ul>
            </nav>
        </li></ul>
            </nav>
        </li>
    
<li class="md-nav__item"><a class="md-nav__extra_link" href="../_sources/getting_started/buildroot.rst.txt">Show Source</a> </li>

<li id="searchbox" class="md-nav__item"></li>

  </ul>
</nav>
              </div>
            </div>
          </div>
        
        <div class="md-content">
          <article class="md-content__inner md-typeset" role="main">
            
  
<span id="ref-getting-started-buildroot"></span><h1 id="getting-started-buildroot--page-root">Buildroot Environment<a class="headerlink" href="#getting-started-buildroot--page-root" title="Permalink to this headline">¶</a></h1>
<p>Buildroot is used to build Embedded Linux Systems that can be cross compiled for unique hardware targets such as the Altronix LinQ Master module or the Microchip Sama5D27 SOM1 Module. Buildroot has it’s own user manual and the Altronix LinQ Network User Guide is only meant as a companion guide. Users should read the Buildroot User Manual in its entirety, paying closer attention to the Section 8.5 - Building Out of tree <span class="blue">[1]</span>, Section 8.6 - Environment Variables <span class="blue">[2]</span>, Section 8.12 - Advanced Usage <span class="blue">[3]</span>, Section 9 - Project specific customization <span class="blue">[4]</span>, and Section III - developer guide <span class="blue">[5]</span>.</p>
<div class="font-small docutils container">
<ol class="arabic simple">
<li><a class="reference external" href="https://buildroot.org/downloads/manual/manual.html#_building_out_of_tree">Section 8.5 - Building Out of Tree</a></li>
<li><a class="reference external" href="https://buildroot.org/downloads/manual/manual.html#env-vars">Section 8.6 - Environment Variables</a></li>
<li><a class="reference external" href="https://buildroot.org/downloads/manual/manual.html#_advanced_usage">Section 8.12 - Advanced Usage</a></li>
<li><a class="reference external" href="https://buildroot.org/downloads/manual/manual.html#customize">Section 8.6 - Project Specific Customization</a></li>
<li><a class="reference external" href="https://buildroot.org/downloads/manual/manual.html#_developer_guide">Section III - Developer Guide</a></li>
<li><a class="reference external" href="https://buildroot.org/downloads/manual/manual.pdf">Buildroot User Manual PDF</a></li>
</ol>
</div>

<h2 id="required-packages">Required Packages<a class="headerlink" href="#required-packages" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><em>If you find any packages are missing, please add them to the list by submitting a PR.</em></div></blockquote>
<ol class="arabic simple">
<li>which</li>
<li>sed</li>
<li>make (version 3.81 or any later)</li>
<li>binutils</li>
<li>build-essential (only for Debian based systems)</li>
<li>gcc (version 4.8 or any later)</li>
<li>g++ (version 4.8 or any later)</li>
<li>bash</li>
<li>patch</li>
<li>gzip</li>
<li>bzip2</li>
<li>perl (version 5.8.7 or any later)</li>
<li>tar</li>
<li>cpio</li>
<li>unzip</li>
<li>rsync</li>
<li>file (must be in /usr/bin/file)</li>
<li>bc</li>
<li>python (version 2.7 or any later)</li>
<li><a class="reference external" href="https://www.balena.io/etcher">Etcher</a></li>
</ol>


<h2 id="optional-packages">Optional Packages<a class="headerlink" href="#optional-packages" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li>asciidoc, version 8.6.3 or higher</li>
<li>w3m</li>
<li>python with the argparse module (automatically present in 2.7+ and 3.2+)</li>
<li>dblatex (required for the pdf manual only)</li>
<li>graphviz to use graph-depends and &lt;pkg&gt;-graph-depends</li>
<li>python-matplotlib to use graph-build</li>
</ol>


<h2 id="altronix-buildroot-packages">Altronix Buildroot Packages<a class="headerlink" href="#altronix-buildroot-packages" title="Permalink to this headline">¶</a></h2>
<p>Buildroot offers the BR2_EXTERNAL environment variable as a convenient option to store packages outside of the mainline buildroot repository.  Altronix uses this environment variable to extend buildroot with Altronix specific packages such as the LinQ Network library and application demos.  To get started with buildroot, clone the altronix buildroot repository and the buildroot-external-altronix submodule into your development workspace.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>git clone https://bitbucket.org/Altronix/buildroot-at91
<span class="nb">cd</span> buildroot-at91
git submodule update --init
</pre></div>
</div>
<p>You are now ready to configure and compile your embedded linux system.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>BR2_EXTERNAL environment variable is required to be set so that buildroot can find our custom defconfig files.  For convience you can export this environment variable to your shell. Or you can choose pass this environment variable to make directly.</p>
<div class="last highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="nb">export</span> <span class="nv">BR2_EXTERNAL</span><span class="o">=</span>./external/buildroot-external-altronix
make sama5d27_som1_ek_altronix_defconfig

<span class="c1"># Or</span>
make <span class="nv">BR2_EXTERNAL</span><span class="o">=</span>./external/buildroot-external-altronix sama5d27_som1_ek_altronix_defconfig
</pre></div>
</div>
</div>


<h2 id="altronix-demo-configuration">Altronix Demo Configuration<a class="headerlink" href="#altronix-demo-configuration" title="Permalink to this headline">¶</a></h2>
<p>From inside your buildroot-at91 workspace you can observe the following directory structure:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">buildroot</span><span class="o">-</span><span class="n">at91</span><span class="o">/</span>
<span class="o">|--</span> <span class="n">arch</span><span class="o">/</span>
<span class="o">|--</span> <span class="n">board</span><span class="o">/</span>
<span class="o">|--</span> <span class="n">boot</span><span class="o">/</span>
<span class="o">|--</span> <span class="n">configs</span><span class="o">/</span>
<span class="o">|--</span> <span class="n">dl</span><span class="o">/</span>
<span class="o">|--</span> <span class="n">docs</span><span class="o">/</span>
<span class="o">|--</span> <span class="n">package</span><span class="o">/</span>
<span class="o">|</span>   <span class="o">|--</span> <span class="o">...</span>                                          <span class="o">&lt;--</span> <span class="n">mainline</span> <span class="n">buildroot</span> <span class="n">packages</span>
<span class="o">|--</span> <span class="n">external</span><span class="o">/</span>
<span class="o">|</span>   <span class="o">|--</span> <span class="n">buildroot</span><span class="o">-</span><span class="n">external</span><span class="o">-</span><span class="n">altronix</span><span class="o">/</span>
<span class="o">|</span>   <span class="o">|</span>   <span class="o">|--</span> <span class="n">board</span><span class="o">/</span>
<span class="o">|</span>   <span class="o">|</span>   <span class="o">|--</span> <span class="n">configs</span><span class="o">/</span>
<span class="o">|</span>   <span class="o">|</span>   <span class="o">|</span>   <span class="o">|--</span> <span class="n">sama5d27_som1_ek_headless_defconfig</span>  <span class="o">&lt;--</span> <span class="n">Microchip</span> <span class="n">Demo</span> <span class="n">Config</span>
<span class="o">|</span>   <span class="o">|</span>   <span class="o">|</span>   <span class="o">|--</span> <span class="n">sama5d27_som1_ek_altronix_defconfig</span>  <span class="o">&lt;--</span> <span class="n">Altronix</span> <span class="n">Demo</span> <span class="n">Config</span>
<span class="o">|</span>   <span class="o">|</span>   <span class="o">|</span>   <span class="o">|--</span> <span class="o">...</span>
<span class="o">|</span>   <span class="o">|</span>   <span class="o">|--</span> <span class="n">package</span><span class="o">/</span>
<span class="o">|</span>   <span class="o">|</span>   <span class="o">|</span>   <span class="o">|--</span> <span class="o">...</span>                                  <span class="o">&lt;--</span> <span class="n">Extra</span> <span class="n">Microchip</span> <span class="o">+</span> <span class="n">Altronix</span> <span class="n">Packages</span>
</pre></div>
</div>
<p>In order to create your own Embedded Linux System you should start from a configuration that is most similar to your target hardware and software requirements.  To create. To explore the Altronix Demo Configuration, run the command from buildroot-at91 root directory:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>make menuconfig
</pre></div>
</div>
<p>You should see the following menu.</p>
<img alt="../_images/makemenu-config.jpg" src="../_images/makemenu-config.jpg"/>
<p>From the initial menuconfig view, navigate to External -&gt; Altronix to view the Altronix specific package options.</p>
<img alt="../_images/makemenu-config-external.jpg" src="../_images/makemenu-config-external.jpg"/>


<h2 id="creating-a-custom-defconfig">Creating A Custom DefConfig<a class="headerlink" href="#creating-a-custom-defconfig" title="Permalink to this headline">¶</a></h2>
<p>To create your own package configuration and save the configuration into the Altronix config folder. Run make menuconfig command. Make your changes and then select save.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This will save your configuration to buildroot-at91/.config and therefore will not overwrite the configuration you started from.</p>
</div>
<p>After you have made all the changes to your Embedded Linux System, run the following command to save your new configuration.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>make savedefconfig <span class="nv">BR2_DEFCONFIG</span><span class="o">=</span>./external/buildroot-external-altronix/configs/sama5d27_som1_ek_my_new_altronix_defconfig
</pre></div>
</div>


<h2 id="flashing-sd-card-onto-target-hardware">Flashing SD Card onto target hardware<a class="headerlink" href="#flashing-sd-card-onto-target-hardware" title="Permalink to this headline">¶</a></h2>
<p>After you have finished customizing your Embedded Linux System you can build the system by running the command make. In summary:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>make <span class="nv">BR2_EXTERNAL</span><span class="o">=</span>./external/buildroot-external-altronix sama5d27_som1_ek_altronix_defconfig
make menuconfig

<span class="c1"># ... Customize your build</span>

make savedefconfig BR2_DEFCONFIG external/buildroot-external-altronix/configs/sama5d27_som1_ek_my_new_altronix_defconfig
make
</pre></div>
</div>
<div class="admonition attention">
<p class="first admonition-title">Attention</p>
<p class="last">Note that making the Embedded Linux System can take between 45 minutes to 2 hours depending on your host hardware situation.</p>
</div>
<p>When your root file system is finially ready you will have a SD card image located in:</p>
<blockquote>
<div>output/images/sdcard.img</div></blockquote>
<ol class="arabic simple">
<li>Plug an SD card into your computer and open up the Etcher program.</li>
</ol>
<img alt="../_images/etcher.jpg" src="../_images/etcher.jpg"/>
<ol class="arabic simple" start="2">
<li>Navigate to your new sdcard.img file and select flash.</li>
</ol>
<div class="admonition attention">
<p class="first admonition-title">Attention</p>
<p class="last">You may need administrator or root access in order for Etech to access your SD card</p>
</div>


<h2 id="running-demo">Running Demo<a class="headerlink" href="#running-demo" title="Permalink to this headline">¶</a></h2>
<p>After you flash your target hardware with your configured Embedded Linux system you can log into the device and run the demo.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>use dmesg to find the usb port your target hardware is using</p>
<div class="last highlight-shell notranslate"><div class="highlight"><pre><span></span>dmesg
</pre></div>
</div>
</div>
<ol class="arabic simple">
<li>Connect to your target hardware using a terminal emulator (IE:)</li>
</ol>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>sudo picocom --baud <span class="m">115200</span> --databits <span class="m">8</span> --parity none --stop <span class="m">1</span> --flow none /dev/ttyACM1
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li>After logging into the terminal run the demo application. You should see the following output.</li>
</ol>
<img alt="../_images/running-demo.png" src="../_images/running-demo.png"/>
<p>Your target hardware is now listening for incoming devices…</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If SQLITE is enabled then you can log into the HTTP server</p>
</div>


<h2 id="development-workflow">Development Workflow<a class="headerlink" href="#development-workflow" title="Permalink to this headline">¶</a></h2>
<p>Buildroot is designed to build Embedded Linux Systems by default.  Package dependencies are downloaded during the build process.  When you run <cite>make clean</cite> the packages you have downloaded will be downloaded again. This is not convenient when you are working on developing your library or application.  In order to work on your source  code with in Buildroot, Buildroot provides a special <cite>make</cite> variable called ${PROJECT_NAME}_OVERRIDE_SRCDIR and expects to find these override locations located in a file called <cite>local.mk</cite> located at the root of your buildroot repository.</p>
<p>For example, if you would like to make some changes to the source code for linq-network-buildroot-demo-c project, you would perform the following steps.</p>
<ol class="arabic">
<li><p class="first">Inside local.mk.</p>
<div class="highlight-make notranslate"><div class="highlight"><pre><span></span><span class="nv">LINQ_NETWORK_DEMO_C_OVERRIDE_SRCDIR</span> <span class="o">=</span> /path/to/my/workspace/project
</pre></div>
</div>
</li>
<li><p class="first">Edit project source files.</p>
</li>
<li><p class="first">Rebuild your project.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>make <span class="o">{</span>project-name<span class="o">}</span>-rebuild
</pre></div>
</div>
<div class="admonition attention">
<p class="first admonition-title">Attention</p>
<p class="last">Buildroot does not track if any dependencies must need to be rebuilt after you make your changes. When in doubt, rebuild any related projects to your changes as well.</p>
</div>
</li>
<li><p class="first">Rebuild your Embedded Linux System</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>make
</pre></div>
</div>
</li>
</ol>


<h2 id="adding-custom-package">Adding Custom Package<a class="headerlink" href="#adding-custom-package" title="Permalink to this headline">¶</a></h2>
<p>To add a C/C++ package to your Buildroot system, first you must create a Config.in and a {project_name}.mk file located in the buildroot-external-altronix package folder.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">buildroot</span><span class="o">-</span><span class="n">at91</span>\
  <span class="o">|--</span> <span class="n">external</span>\
  <span class="o">|</span>   <span class="o">|--</span> <span class="n">external</span><span class="o">-</span><span class="n">buildroot</span><span class="o">-</span><span class="n">altronix</span>\
  <span class="o">|</span>   <span class="o">|</span>   <span class="o">|--</span> <span class="n">Config</span><span class="o">.</span><span class="ow">in</span>              <span class="o">&lt;--</span> <span class="n">Root</span> <span class="n">buildroot</span><span class="o">-</span><span class="n">external</span><span class="o">-</span><span class="n">altronix</span> <span class="n">Config</span> <span class="n">file</span>
  <span class="o">|</span>   <span class="o">|</span>   <span class="o">|--</span> <span class="n">package</span>\
  <span class="o">|</span>   <span class="o">|</span>   <span class="o">|</span>   <span class="o">|--</span> <span class="n">my</span><span class="o">-</span><span class="n">project</span>\
  <span class="o">|</span>   <span class="o">|</span>   <span class="o">|</span>   <span class="o">|</span>   <span class="o">|--</span> <span class="n">Config</span><span class="o">.</span><span class="ow">in</span>      <span class="o">&lt;--</span> <span class="n">Your</span> <span class="n">project</span> <span class="n">config</span> <span class="n">file</span>
  <span class="o">|</span>   <span class="o">|</span>   <span class="o">|</span>   <span class="o">|</span>   <span class="o">|--</span> <span class="n">my</span><span class="o">-</span><span class="n">project</span><span class="o">.</span><span class="n">mk</span>  <span class="o">&lt;--</span> <span class="n">Your</span> <span class="n">project</span> <span class="n">make</span> <span class="n">file</span>
</pre></div>
</div>
<p>To add your project to Buildroot menu configuration, add your project to buildroot-external-altronix config file.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>menu "Altronix"
     source "$BR2_EXTERNAL_ATX_PATH/package/linq-network/Config.in"
     source "$BR2_EXTERNAL_ATX_PATH/package/linq-network-demo-c/Config.in"
     source "$BR2_EXTERNAL_ATX_PATH/package/linq-network-demo-cpp/Config.in"
     source "$BR2_EXTERNAL_ATX_PATH/package/linq-network-demo-rust/Config.in"
     source "$BR2_EXTERNAL_ATX_PATH/package/linq-network-demo-go/Config.in"
     source "$BR2_EXTERNAL_ATX_PATH/package/linq-network-demo-nodejs/Config.in"

     # Your project here
     source "$BR2_EXTERNAL_ATX_PATH/package/my-project/Config.in"
endmenu
</pre></div>
</div>

<h3 id="config-in">Config.in<a class="headerlink" href="#config-in" title="Permalink to this headline">¶</a></h3>
<p>The Config.in file is used to inform Buildroot about your project dependencies and configuration options and also provides help information about your package.</p>
<p>If your project has any dependencies or configuration options, refer to <a class="reference external" href="https://buildroot.org/downloads/manual/manual.html#adding-packages">Buildroot User Guide Section 17</a></p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>config BR2_PACKAGE_MY_PROJECT
bool "my-project"
help
  This is a minimal package.

  https://bitbucket.org/Altronix/my-project
</pre></div>
</div>
<div class="admonition attention">
<p class="first admonition-title">Attention</p>
<p class="last">When adding your package to buildroot, you are creating an Embedded Linux Distribution, and your installation files are installed into system directories. To make sure you install your packages efficiently, you should link your dependencies using shared libraries.</p>
</div>


<h3 id="makefile-for-a-c-c-package">Makefile for a C/C++ package<a class="headerlink" href="#makefile-for-a-c-c-package" title="Permalink to this headline">¶</a></h3>
<p>Buildroot hooks into building your C/C++ project by invoking your C/C++ package build system such as Autotools or CMake. Refer to <a class="reference external" href="https://buildroot.org/downloads/manual/manual.html#_infrastructure_for_cmake_based_packages">Buildroot User Guide Section 17.7</a> for how to add your CMake package to your Embedded Linux System.</p>
<p>Refer to the linq-network-demo-c package for an example of how to add your CMake package to your Embedded Linux System.</p>


<h3 id="makefile-for-a-rust-package">Makefile for a Rust Package<a class="headerlink" href="#makefile-for-a-rust-package" title="Permalink to this headline">¶</a></h3>
<p>Buildroot hooks into building your Rust project by invoking Cargo from the buildroot make system. Refer to <a class="reference external" href="https://buildroot.org/downloads/manual/manual.html#_integration_of_cargo_based_packages">Buildroot User Guide Section 17.16</a> for how to add your rust package to your Embedded Linux System.</p>
<p>Refer to the linq-network-demo-rust package for an example of how to add your rust package to your Embedded Linux System.</p>


<h3 id="makefile-for-a-go-package">Makefile for a Go Package<a class="headerlink" href="#makefile-for-a-go-package" title="Permalink to this headline">¶</a></h3>
<p>Buildroot hooks into building your Go project by invoking golang-package from the buildroot make system. Refer to <a class="reference external" href="https://buildroot.org/downloads/manual/manual.html#_infrastructure_for_go_based_packages">Buildroot User Guide Section 17.17</a> for how to add your go package to your Embedded Linux System.</p>
<p>Refer to the linq-network-demo-go package for an example of how to add your go package to your Embedded Linux System.</p>


<h3 id="other">Other<a class="headerlink" href="#other" title="Permalink to this headline">¶</a></h3>
<p>Interpreted languages such as NodeJS and python do not need to be compiled and therefore do not have a make file requirement to add to your Embedded Linux System.</p>





          </article>
        </div>
      </div>
    </main>
  </div>
  <footer class="md-footer">
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
          
            <a href="linux.html" title="Material"
               class="md-flex md-footer-nav__link md-footer-nav__link--prev"
               rel="prev">
              <div class="md-flex__cell md-flex__cell--shrink">
                <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
              </div>
              <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
                <span class="md-flex__ellipsis">
                  <span
                      class="md-footer-nav__direction"> Previous </span> Linux Enviorment </span>
              </div>
            </a>
          
          
            <a href="docker.html" title="Admonition"
               class="md-flex md-footer-nav__link md-footer-nav__link--next"
               rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"><span
                class="md-flex__ellipsis"> <span
                class="md-footer-nav__direction"> Next </span> Docker Image </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink"><i
                class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          
        </a>
        
      </nav>
    </div>
    <div class="md-footer-meta md-typeset">
      <div class="md-footer-meta__inner md-grid">
        <div class="md-footer-copyright">
          <div class="md-footer-copyright__highlight">
              &#169; Copyright 2020, Altronix Corp.
              
          </div>
            Created using
            <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.4.
             and
            <a href="https://github.com/bashtage/sphinx-material/">Material for
              Sphinx</a>
        </div>
      </div>
    </div>
  </footer>
  <script src="../_static/javascripts/application.js"></script>
  <script>app.initialize({version: "1.0.4", url: {base: ".."}})</script>
  </body>
</html>